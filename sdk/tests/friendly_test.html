<!DOCTYPE html>
<head>
    <title>Hacash Friendly SDK Test</title>
    <script src="./hacashsdk_bg.js"></script>
    <script src="../js/hacashsdk.global.js"></script>
</head>
<body>
    <h1>Hacash Friendly SDK Test</h1>
    <pre id="out"></pre>
    <script>
        const out = document.getElementById("out");
        const write = (v) => {
            out.innerText += `${String(v)}\n`;
            console.log(v);
        };

        (async function() {
            const sdk = await create_hacash_sdk();
            const acc1 = sdk.create_account("123456");
            const acc2 = sdk.create_account("654321");
            write(`from=${acc1.address}`);
            write(`to=${acc2.address}`);

            const tx = sdk.create_coin_transfer({
                main_prikey: "123456",
                to_address: acc2.address,
                fee: "1:244",
                hacash: "1:244",
                timestamp: 1755223764,
                satoshi: 0,
            });
            write(`tx=${tx.hash}`);

            const s = sdk.create_sign_tx_param({
                prikey: "123456",
                body: tx.body,
            });
            write(`signParamBody=${s.body.length}`);
        })().catch((e) => {
            write(e.message || e);
        });
    </script>
</body>
</html>
